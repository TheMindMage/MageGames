<script>
  document.addEventListener("DOMContentLoaded", function () {
    setTimeout(() => {
      // Create overlay elements
      const overlay = document.createElement("div");
      overlay.id = "subscription-overlay";
      overlay.innerHTML = `
        <div id="overlay-bg"></div>
        <div id="overlay-content">
          <h2>Subscribe to Continue</h2>
          <p>Subscribe now to remove this screen permanently!</p>
          <button id="subscribe-btn">Subscribe</button>
          <p>Or wait <span id="countdown">30</span> seconds...</p>
        </div>
      `;

      document.body.appendChild(overlay);
      document.body.classList.add("blurred"); // Blur background

      // Countdown timer
      let timeLeft = 30;
      const countdown = document.getElementById("countdown");
      const interval = setInterval(() => {
        timeLeft--;
        countdown.textContent = timeLeft;
        if (timeLeft <= 0) {
          clearInterval(interval);
          overlay.remove();
          document.body.classList.remove("blurred");
        }
      }, 1000);

      // Subscribe button removes overlay permanently
      document.getElementById("subscribe-btn").addEventListener("click", () => {
        localStorage.setItem("subscribed", "true");
        overlay.remove();
        document.body.classList.remove("blurred");
      });
    }, 5000);
  });

  // If already subscribed, don't show overlay
  if (localStorage.getItem("subscribed") === "true") {
    document.body.classList.remove("blurred");
  }
</script>

<style>
  /* Background blur */
  .blurred main, .blurred header, .blurred footer {
    filter: blur(5px);
  }

  /* Overlay styles */
  #subscription-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 1000;
  }

  #overlay-bg {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.7);
  }

  #overlay-content {
    position: relative;
    background: white;
    padding: 20px;
    text-align: center;
    border-radius: 10px;
    z-index: 1001;
  }

  #overlay-content button {
    padding: 10px 20px;
    background: #7b2cbf;
    color: white;
    border: none;
    cursor: pointer;
    border-radius: 5px;
  }
</style>
